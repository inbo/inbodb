<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get all validated observations for one or more taxa from the florabank database — get_florabank_observations • inbodb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Get all validated observations for one or more taxa from the florabank database — get_florabank_observations" />
<meta property="og:description" content="This function takes as input a character vector with one or more names of
species either as scientific names and/or Dutch names. By default (fixed = FALSE),
partial matching will be used (the names are prepended with appended with %).
The function queries the florabank, and returns a dataframe with observation
level information about the matching taxa." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inbodb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/odbc_query_problem.html">odbc query problem</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/inbo/inbodb/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get all validated observations for one or more taxa from the florabank database</h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/inbodb/blob/master/R/get_florabank_observations.R'><code>R/get_florabank_observations.R</code></a></small>
    <div class="hidden name"><code>get_florabank_observations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes as input a character vector with one or more names of
species either as scientific names and/or Dutch names. By default (fixed = FALSE),
partial matching will be used (the names are prepended with appended with %).
The function queries the florabank, and returns a dataframe with observation
level information about the matching taxa.</p>
    </div>

    <pre class="usage"><span class='fu'>get_florabank_observations</span>(<span class='no'>connection</span>, <span class='no'>names</span>, <span class='kw'>fixed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>connection</th>
      <td><p>A connection to the florabank database. See the example
section for how to connect and disconnect to the database.</p></td>
    </tr>
    <tr>
      <th>names</th>
      <td><p>Default missing. A character vector with scientific names
and/or Dutch names. If fixed = TRUE, character strings are matched exactly and
scientific names must include authorship in order to match.</p></td>
    </tr>
    <tr>
      <th>fixed</th>
      <td><p>Logical. If TRUE, names is to be matched as is (no partial matching)
.</p></td>
    </tr>
    <tr>
      <th>collect</th>
      <td><p>If FALSE (the default), a remote tbl object is returned. This
is like a reference to the result of the query but the full result of the
query is not brought into memory. If TRUE the full result of the query is
collected (fetched) from the database and brought into memory of the working
environment.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A dataframe with the following variables: "NaamNederlands",
"NaamWetenschappelijk", "Bron", "BeginDatum", "EindDatum", "hok",
"Toponiem", "CommentaarTaxon", "CommentaarHabitat",
"WaarnemingID", "X_waarneming", "Y_waarneming", "X_meting", "Y_meting"</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other florabank: 
<code><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_taxon_ifbl_year.html'>get_florabank_taxon_ifbl_year</a>()</code>,
<code><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_traits.html'>get_florabank_traits</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># code can only be run if a connection to the database is possible</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>inbodb</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>DBI</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>odbc</span>)
<span class='co'># connect to florabank</span>
<span class='no'>db_connectie</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/connect_inbo_dbase.html'>connect_inbo_dbase</a></span>(<span class='st'>"D0021_00_userFlora"</span>)

<span class='co'># query and collect the data using scientific name</span>
<span class='no'>succprat1</span> <span class='kw'>&lt;-</span>    <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='st'>'Succisa pratensis Moench'</span>, <span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># the same species but using Dutch name</span>
<span class='no'>succprat2</span> <span class='kw'>&lt;-</span>    <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='st'>'Blauwe knoop'</span>, <span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># providing both a Dutch name and scientific name will not duplicate records</span>
<span class='co'># if they are the same species</span>
<span class='no'>succprat3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Succisa pratensis Moench"</span>, <span class='st'>"Blauwe knoop"</span>), <span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='no'>succprat1</span>, <span class='no'>succprat2</span>)
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='no'>succprat1</span>, <span class='no'>succprat3</span>)

<span class='co'># passing dutch names and scientific names for different species</span>
<span class='co'># is possible (records for each species is returned)</span>
<span class='no'>myspecies1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'Succisa pratensis Moench'</span>, <span class='st'>'Gevlekte orchis'</span>), <span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># passing multiple dutch names</span>
<span class='no'>myspecies2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'Gevlekte orchis'</span>, <span class='st'>'Blauwe knoop'</span>),
<span class='kw'>collect</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='no'>myspecies1</span>, <span class='no'>myspecies2</span>)

<span class='co'># using default for collect will return a lazy query</span>
<span class='co'># fixed = TRUE for exact matches only</span>
<span class='no'>myspecies3</span> <span class='kw'>&lt;-</span>   <span class='fu'><a href='https://rdrr.io/pkg/inbodb/man/get_florabank_observations.html'>get_florabank_observations</a></span>(<span class='no'>db_connectie</span>,
<span class='kw'>names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'Succisa pratensis Moench'</span>, <span class='st'>'Gevlekte orchis'</span>),
<span class='kw'>fixed</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># to collect the data for a lazy query you can also use the collect() function:</span>
<span class='no'>myspecies3</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/compute.html'>collect</a></span>(<span class='no'>myspecies3</span>)

<span class='co'># disconnect from florabank</span>
<span class='fu'><a href='https://dbi.r-dbi.org/reference/dbDisconnect.html'>dbDisconnect</a></span>(<span class='no'>db_connectie</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Els Lommelen, Hans Van Calster, Els De Bie, Floris Vanderhaeghe, Research Institute for Nature and Forest.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


