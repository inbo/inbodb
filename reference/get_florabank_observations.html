<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get all validated observations for one or more taxa from the florabank database — get_florabank_observations • inbodb</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Get all validated observations for one or more taxa from the florabank database — get_florabank_observations"><meta property="og:description" content="This function takes as input a character vector with one or more names of
species either as scientific names and/or Dutch names. By default (fixed =
FALSE), partial matching will be used (the names are prepended and appended
with %).
The function queries the florabank, and returns a dataframe with observation
level information about the matching taxa."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inbodb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../news/index.html">NEWS</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../CONTRIBUTING.html">Contributing</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/inbo/inbodb" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
<li>
  <a href="https://twitter.com/INBOVlaanderen" class="external-link">
    <span class="fa fa-twitter"></span>

  </a>
</li>
<li>
  <a href="https://www.facebook.com/pg/INBOVlaanderen" class="external-link">
    <span class="fa fa-facebook"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get all validated observations for one or more taxa from the florabank database</h1>
    <small class="dont-index">Source: <a href="https://github.com/inbo/inbodb/blob/main/R/get_florabank_observations.R" class="external-link"><code>R/get_florabank_observations.R</code></a></small>
    <div class="hidden name"><code>get_florabank_observations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes as input a character vector with one or more names of
species either as scientific names and/or Dutch names. By default (fixed =
FALSE), partial matching will be used (the names are prepended and appended
with %).
The function queries the florabank, and returns a dataframe with observation
level information about the matching taxa.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">connection</span>, <span class="va">names</span>, fixed <span class="op">=</span> <span class="cn">FALSE</span>, collect <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-connection">connection<a class="anchor" aria-label="anchor" href="#arg-connection"></a></dt>
<dd><p>A connection to the florabank database. See the example
section for how to connect and disconnect to the database.</p></dd>


<dt id="arg-names">names<a class="anchor" aria-label="anchor" href="#arg-names"></a></dt>
<dd><p>Default missing. A character vector with scientific names
and/or Dutch names. If fixed = TRUE, character strings are matched exactly
and scientific names must include authorship in order to match.</p></dd>


<dt id="arg-fixed">fixed<a class="anchor" aria-label="anchor" href="#arg-fixed"></a></dt>
<dd><p>Logical. If TRUE, names is to be matched as is (no partial
matching)
.</p></dd>


<dt id="arg-collect">collect<a class="anchor" aria-label="anchor" href="#arg-collect"></a></dt>
<dd><p>If FALSE (the default), a remote <code>tbl</code> object is returned.
This
is like a reference to the result of the query but the full result of the
query is not brought into memory. If TRUE the full result of the query is
collected (fetched) from the database and brought into memory of the working
environment.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A dataframe with the following variables:
<code>NaamNederlands</code>,
<code>NaamWetenschappelijk</code>,
<code>AcceptedNaamWetenschappelijk</code>,
<code>Bron</code>,
<code>BeginDatum</code>,
<code>EindDatum</code>,
<code>Hok</code>,
<code>Toponiem</code>,
<code>CommentaarEvent</code>,
<code>CommentaarWaarneming</code>,
<code>EventID</code>,
<code>X_event</code>,
<code>Y_event</code>,
<code>X_waarneming</code>,
<code>Y_waarneming</code></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other florabank:
<code><a href="get_florabank_taxon_ifbl_year.html">get_florabank_taxon_ifbl_year</a>()</code>,
<code><a href="get_florabank_traits.html">get_florabank_traits</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># code can only be run if a connection to the database is possible</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/inbo/inbodb" class="external-link">inbodb</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># connect to florabank</span></span></span>
<span class="r-in"><span><span class="va">db_connectie</span> <span class="op">&lt;-</span> <span class="fu"><a href="connect_inbo_dbase.html">connect_inbo_dbase</a></span><span class="op">(</span><span class="st">"D0152_00_Flora"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># query and collect the data using scientific name</span></span></span>
<span class="r-in"><span><span class="va">succprat1</span> <span class="op">&lt;-</span>  <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="st">'Succisa pratensis Moench'</span>, collect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the same species but using Dutch name</span></span></span>
<span class="r-in"><span><span class="va">succprat2</span> <span class="op">&lt;-</span>  <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="st">'Blauwe knoop'</span>, collect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># providing both a Dutch name and scientific name will not duplicate records</span></span></span>
<span class="r-in"><span><span class="co"># if they are the same species</span></span></span>
<span class="r-in"><span><span class="va">succprat3</span> <span class="op">&lt;-</span> <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Succisa pratensis Moench"</span>, <span class="st">"Blauwe knoop"</span><span class="op">)</span>, collect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">succprat1</span>, <span class="va">succprat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">succprat1</span>, <span class="va">succprat3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># passing dutch names and scientific names for different species</span></span></span>
<span class="r-in"><span><span class="co"># is possible (records for each species is returned)</span></span></span>
<span class="r-in"><span><span class="va">myspecies1</span> <span class="op">&lt;-</span> <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Succisa pratensis Moench'</span>, <span class="st">'Gevlekte orchis'</span><span class="op">)</span>, collect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># passing multiple dutch names</span></span></span>
<span class="r-in"><span><span class="va">myspecies2</span> <span class="op">&lt;-</span> <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Gevlekte orchis'</span>, <span class="st">'Blauwe knoop'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>collect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">myspecies1</span>, <span class="va">myspecies2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using default for collect will return a lazy query</span></span></span>
<span class="r-in"><span><span class="co"># fixed = TRUE for exact matches only</span></span></span>
<span class="r-in"><span><span class="va">myspecies3</span> <span class="op">&lt;-</span>  <span class="fu">get_florabank_observations</span><span class="op">(</span><span class="va">db_connectie</span>,</span></span>
<span class="r-in"><span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Succisa pratensis Moench'</span>, <span class="st">'Gevlekte orchis'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to collect the data for a lazy query you can also use the collect()</span></span></span>
<span class="r-in"><span><span class="co"># function:</span></span></span>
<span class="r-in"><span><span class="va">myspecies3</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="va">myspecies3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># disconnect from florabank</span></span></span>
<span class="r-in"><span><span class="fu">dbDisconnect</span><span class="op">(</span><span class="va">db_connectie</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Els Lommelen, Hans Van Calster, Els De Bie, Floris Vanderhaeghe, Frederic Piesschaert, Toon Westra, <a href="https://www.vlaanderen.be/inbo/en-gb" class="external-link"><img src="https://inbo.github.io/checklist/reference/figures/logo-en.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

